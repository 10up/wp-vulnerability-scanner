# WP Vulnerability Scanner

Check installed plugins and themes for vulnerabilities reported by wpvulndb.com.

## Installation

This repo can be installed as a regular plugin. There is no UI, but the command will become available.

```
wp plugin install --activate https://github.com/10up/wp-vulnerability-scanner/archive/master.zip
```

After plugin installation, you can verify the command is in place with `wp help vuln`

*Alternatively*, clone this repo, and require `wp-vulnerability-scanner.php` from wp-cli config.

E.g. in `~/.wp-cli/config.yml` [[other config locations](http://wp-cli.org/config/)]

```
require:
  - /path/to/this/repo/wp-vulnerability-scanner.php
```

## Usage

```
wp vuln status
```

Additional options are available:

 * `--test` Load test data
 * `--format=<format>` Accepted values: table, csv, json, count, ids, yaml. Default: table

```
wp vuln plugin-status
```

Options

 * `--test` Load test data
 * `--porcelain` Only print slugs of vulnerable plugins with updates
 * `--format=<format>` Accepted values: table, csv, json, count, ids, yaml. Default: table
 
```
wp vuln theme-status
```

Options

 * `--test` Load test data
 * `--porcelain` Only print slugs of vulnerable theme with updates
 * `--format=<format>` Accepted values: table, csv, json, count, ids, yaml. Default: table

### Example usage

```
wp plugin update $(wp vuln plugin-status --porcelain)
```
Will simply error out if there are no slugs returned by the `plugin-status` command. Can suppress the output by appending ` &> /dev/null` 

```
wp theme update $(wp vuln theme-status --porcelain) &> /dev/null
```
## @todo

 * maybe: check any given slug directly, i.e. `wp vuln check restricted-site-access`