# WP Vulnerability Scanner

Check installed plugins and themes for vulnerabilities reported by wpvulndb.com.

## Installation

This repo can be insalled as a regular plugin. There is no wp-admin UI, but the command will become available.

```
wp plugin install --activate https://github.com/10up/wp-vulnerability-scanner/archive/master.zip
```

Alternatively, clone this repo, and require `wp-vulnerability-scanner.php` from wp-cli config.

E.g. in `.wp-cli/config.yml` [other config locations](http://wp-cli.org/config/)

```
require:
  - /path/to/this/repo/wp-vulnerability-scanner.php
```

## Usage

```
wp vuln status
```

Additional options are available:

 * `--fix` Update vulnerable plugins if possible.
 * `--not-plugins` Do not include plugins in scan. Not to be confused with --skip-plugins.
 * `--not-themes` Do not include themes in scan. Not to be confused with --skip-themes.
 * `--verbose` Human-friendly formatting.
 * `--format=<format>` Accepted values: table, csv, json, count, ids, yaml. Default: table


By default, the command will check plugins and themes, and only return an error code indicating whether there are vulnerable plugins with updates (exit 1) or not (exit 0).

Example usage

```
if ! $(wp vuln status --not-themes); then
	wp vuln status --not-themes --fix
fi
```

## @todo

 * maybe: check not-installed plugin (could be a good option if a plugin is being considered). i.e. `wp vuln check restricted-site-access`